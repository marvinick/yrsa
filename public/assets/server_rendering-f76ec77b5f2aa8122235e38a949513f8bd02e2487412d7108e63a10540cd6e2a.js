!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","react-dom","react-dom/server"],t):"object"==typeof exports?exports.ReactRailsUJS=t(require("react"),require("react-dom"),require("react-dom/server")):e.ReactRailsUJS=t(e.React,e.ReactDOM,e.ReactDOMServer)}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_5__){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(module,exports){var topLevel="undefined"==typeof window?this:window;module.exports=function(className){var constructor;return constructor=topLevel[className],constructor||(constructor=eval(className)),constructor&&constructor["default"]&&(constructor=constructor["default"]),constructor}},function(e,t,n){var r=n(7),o=n(8),a=n(9),c=n(11),i=n(10);e.exports=function(e){e.handleEvent&&("undefined"!=typeof Turbolinks.EVENTS&&i.teardown(e),a.teardown(e),c.teardown(e),o.teardown(e),r.teardown(e)),e.jQuery?(e.handleEvent=function(t,n){e.jQuery(document).on(t,n)},e.removeEvent=function(t,n){e.jQuery(document).off(t,n)}):"addEventListener"in window?(e.handleEvent=function(e,t){document.addEventListener(e,t)},e.removeEvent=function(e,t){document.removeEventListener(e,t)}):(e.handleEvent=function(e,t){window.attachEvent(e,t)},e.removeEvent=function(e,t){window.detachEvent(e,t)}),"undefined"!=typeof Turbolinks&&Turbolinks.supported?"undefined"!=typeof Turbolinks.EVENTS?i.setup(e):"undefined"!=typeof Turbolinks.controller?a.setup(e):c.setup(e):"undefined"!=typeof $&&"function"==typeof $.pjax?o.setup(e):r.setup(e)}},function(e,t,n){var r=n(0),o=n(12);e.exports=function(e){var t=o(e);return function(e){var n;try{n=t(e)}catch(t){try{n=r(e)}catch(e){console.error(t),console.error(e)}}return n}}},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(e,t,n){var r=n(3),o=n(4),a=n(5),c=n(1),i=n(0),u=n(2),l={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",jQuery:"undefined"!=typeof window&&"undefined"!=typeof window.jQuery&&window.jQuery,findDOMNodes:function(e){var t,n,r=l.CLASS_NAME_ATTR;switch(typeof e){case"undefined":t="["+r+"]",n=document;break;case"object":t="["+r+"]",n=e;break;case"string":t=e+"["+r+"], "+e+" ["+r+"]",n=document}return l.jQuery?l.jQuery(t,n):n.querySelectorAll(t)},getConstructor:i,useContext:function(e){this.getConstructor=u(e)},serverRender:function(e,t,n){var o=this.getConstructor(t),c=r.createElement(o,n);return a[e](c)},mountComponents:function(e){for(var t=l,n=t.findDOMNodes(e),a=0;a<n.length;++a){var c=n[a],i=c.getAttribute(t.CLASS_NAME_ATTR),u=t.getConstructor(i),s=c.getAttribute(t.PROPS_ATTR),d=s&&JSON.parse(s);if(!u){var p="Cannot find component: '"+i+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+p+" for element","font-weight: bold","",c),new Error(p+". Make sure your component is available to render.")}o.render(r.createElement(u,d),c)}},unmountComponents:function(e){for(var t=l.findDOMNodes(e),n=0;n<t.length;++n){var r=t[n];o.unmountComponentAtNode(r)}},detectEvents:function(){c(this)}};l.handleMount=function(e){var t=undefined;e&&e.target&&(t=e.target),l.mountComponents(t)},l.handleUnmount=function(e){var t=undefined;e&&e.target&&(t=e.target),l.unmountComponents(t)},"undefined"!=typeof window&&l.detectEvents(),self.ReactRailsUJS=l,e.exports=l},function(e){e.exports={setup:function(e){e.jQuery?e.handleEvent("ready",e.handleMount):"addEventListener"in window?e.handleEvent("DOMContentLoaded",e.handleMount):e.handleEvent("onload",e.handleMount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("onload",e.handleMount)}}},function(e){e.exports={setup:function(e){e.handleEvent("ready",e.handleMount),e.handleEvent("pjax:end",e.handleMount),e.handleEvent("pjax:beforeReplace",e.handleUnmount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("pjax:end",e.handleMount),e.removeEvent("pjax:beforeReplace",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent("DOMContentLoaded",e.handleMount),e.handleEvent("turbolinks:render",e.handleMount),e.handleEvent("turbolinks:before-render",e.handleUnmount)},teardown:function(e){e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("turbolinks:render",e.handleMount),e.removeEvent("turbolinks:before-render",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)},teardown:function(e){e.removeEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.removeEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)}}},function(e){e.exports={setup:function(e){Turbolinks.pagesCached(0),e.handleEvent("page:change",e.handleMount),e.handleEvent("page:receive",e.handleUnmount)},teardown:function(e){e.removeEvent("page:change",e.handleMount),e.removeEvent("page:receive",e.handleUnmount)}}},function(e){e.exports=function(e){return function(t){var n=t.split("."),r=n.shift(),o=n,a=e("./"+r);return o.forEach(function(e){a=a[e]}),a.__esModule&&(a=a["default"]),a}}}])});var AllProjects=React.createClass({displayName:"AllProjects",handleDelete:function(e){this.props.handleDelete(e)},onUpdate:function(e){this.props.onUpdate(e)},render:function(){var e=this,t=this.props.projects.map(function(t){return React.createElement("div",{key:t.id},React.createElement(Project,{project:t,handleDelete:e.handleDelete.bind(e,t.id),handleUpdate:e.onUpdate}))});return React.createElement("div",{className:"container"},React.createElement("h1",null,t))}}),Body=React.createClass({displayName:"Body",getInitialState:function(){return{projects:[]}},componentDidMount:function(){var e=this;$.getJSON("/api/v1/projects.json",function(t){e.setState({projects:t})})},handleSubmit:function(e){var t=this.state.projects.concat(e);this.setState({projects:t})},handleDelete:function(e){var t=this;$.ajax({url:"/api/v1/projects/"+e,type:"DELETE",success:function(){t.removeProjectClient(e)}})},removeProjectClient:function(e){var t=this.state.projects.filter(function(t){return t.id!=e});this.setState({projects:t})},handleUpdate:function(e){var t=this;$.ajax({url:"/api/v1/projects/"+e.id,type:"PUT",data:{project:e},success:function(){t.updateProjects(e)}})},updateProjects:function(e){var t=this.state.projects.filter(function(t){return t.id!=e.id});t.push(e),this.setState({projects:t})},render:function(){return React.createElement("div",null,React.createElement(NewProject,{handleSubmit:this.handleSubmit}),React.createElement(AllProjects,{projects:this.state.projects,handleDelete:this.handleDelete,onUpdate:this.handleUpdate}))}}),Header=React.createClass({displayName:"Header",render:function(){return React.createElement("h1",null,"Projects")}}),Main=React.createClass({displayName:"Main",render:function(){return React.createElement("div",{className:"container"},React.createElement(Header,null),React.createElement(Body,null))}}),NewProject=React.createClass({displayName:"NewProject",handleClick:function(){var e=this;event.preventDefault;var t=this.refs.title.value,n=this.refs.description.value;$.ajax({url:"/api/v1/projects",type:"POST",data:{project:{title:t,description:n}},success:function(t){e.props.handleSubmit(t)}}),this.refs.title.value="",this.refs.description.value=""},render:function(){return React.createElement("div",null,React.createElement("input",{ref:"title",placeholder:"Enter the title"}),React.createElement("input",{ref:"description",placeholder:"Description"}),React.createElement("button",{onClick:this.handleClick,className:"btn right"},"Submit"))}}),Project=React.createClass({displayName:"Project",getInitialState:function(){return{editable:!1}},handleEdit:function(){if(this.state.editable){var e=this.refs.title.value,t=this.props.project.id,n=this.refs.description.value,r={id:t,title:e,description:n};this.props.handleUpdate(r)}this.setState({editable:!this.state.editable})},render:function(){var e=this.state.editable?React.createElement("input",{type:"text",ref:"title",defaultValue:this.props.project.title}):React.createElement("h4",null,this.props.project.title),t=this.state.editable?React.createElement("input",{type:"text",ref:"description",defaultValue:this.props.project.description}):React.createElement("p",null,this.props.project.description),n=this.props.project.email;return React.createElement("div",{className:"row"},React.createElement("h4",null,e),React.createElement("h5",null,t),React.createElement("h5",null,n),React.createElement("button",{onClick:this.props.handleDelete,className:"btn right"},"Delete"),React.createElement("button",{onClick:this.handleEdit,className:"btn left"},this.state.editable?"Submit":"Edit"))}});