<nav class="breadcrumb is-hidden-desktop" aria-label="breadcrumbs">
  <ul>
    <li><a href="#"><span class="icon is-small"><i class="fa fa-home"></i></span><span><%= link_to "Home", root_url %></span></a></li>
  </ul>
</nav>

<nav class="level">
  <div class="level-item has-text-centered">
    <div>
      <p class="heading">account</p>
      <p class="level-item has-text-centered title">
        <%= @account.name %>
      </p>
    </div>
  </div>
</nav>
<nav class="level is-mobile">
  <div class="level-item has-text-centered">
    <div>
      <a class="button is-primary is-small", id="myBtn">New Project</a>
    </div>
  </div>
  <div class="level-item has-text-centered">
    <div>

      <p class="title"><%= link_to "Users", account_users_path(@account, @users), class: "button is-small is-info" %>
    </div>
  </div>
</nav>
<hr>
<nav class="level">
  <div class="level-item has-text-centered">
    <div>
      <p class="heading">all projects</p>
    </div>
  </div>
</nav>


<div class="row">
  <% @account.projects.each do |project| %>
    <div class="col-md-4">
      <div class="box">
        <article class="media">
          <div class="media-left">
            <figure class="image is-64x64">
              <img src="http://bulma.io/images/placeholders/128x128.png" alt="Image">
            </figure>
          </div>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><%= link_to project.title %></strong>
                <small><%= project.description %></small>
              </p>
            </div>
          </div>
        </article>
      </div>
    </div>
  <% end %>
</div>


<%= form_for([@account, @project]) do |f| %>
<div class="modal" id="myModal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">New Project</p>
      <button class="delete" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
      <%= f.hidden_field :account_id %>

      <div class="control">
          <%= f.text_field :title, placeholder: 'title', label: false, class:"input is-medium" %>
      </div>
      <br>
      <%= f.text_field :description, placeholder: 'description', label: false, class:"input is-medium" %>
    </section>
    <footer class="modal-card-foot">
      <%= f.button :submit, class: "button is-primary" %>
      <%= link_to t('.cancel', :default => t("helpers.links.cancel")), account_path(@account), class: "button is-warning" %>
    </footer>
  </div>
</div>
<% end %>


<script>
  // Get the modal
  var modal = document.getElementById('myModal');

  // Get the button that opens the modal
  var btn = document.getElementById("myBtn");

  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("delete")[0];

  // When the user clicks the button, open the modal
  btn.onclick = function() {
      modal.style.display = "block";
  }

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
      modal.style.display = "none";
      event.preventDefault()
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
      if (event.target == modal) {
          modal.style.display = "none";
      }
  }


</script>
